<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>R6 class representing a dispersal generator. — DispersalGenerator • poems</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="R6 class representing a dispersal generator. — DispersalGenerator"><meta name="description" content="R6 class functionality for modeling dispersals within a
spatially-explicit population model. The model calculates dispersal rates between
population model cells using a distance-based function: p*exp(-distance/b)
for distance &amp;lt;= r (otherwise zero), where p (proportion), b
(breadth or average distance) and r (range or maximum distance) are
configurable model attributes. The dispersal rates are adjusted to limit
emigration from each cell to p. The model also generates data for
constructing compacted dispersal matrices. It dynamically generates attributes
defined as outputs (default: dispersal_data) given sampled
inputs (default: dispersal_proportion and
dispersal_max_distance). An optional DispersalFriction object
may be utilized to modify (equivalent) distances given a (spatio-temporal) frictional
landscape. When this landscape includes temporal changes, the generated
dispersal_data will be a temporal list of changing dispersal rates."><meta property="og:description" content="R6 class functionality for modeling dispersals within a
spatially-explicit population model. The model calculates dispersal rates between
population model cells using a distance-based function: p*exp(-distance/b)
for distance &amp;lt;= r (otherwise zero), where p (proportion), b
(breadth or average distance) and r (range or maximum distance) are
configurable model attributes. The dispersal rates are adjusted to limit
emigration from each cell to p. The model also generates data for
constructing compacted dispersal matrices. It dynamically generates attributes
defined as outputs (default: dispersal_data) given sampled
inputs (default: dispersal_proportion and
dispersal_max_distance). An optional DispersalFriction object
may be utilized to modify (equivalent) distances given a (spatio-temporal) frictional
landscape. When this landscape includes temporal changes, the generated
dispersal_data will be a temporal list of changing dispersal rates."><meta property="og:image" content="https://globalecologylab.github.io/poems/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">poems</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/simple_example.html">Simple workflow example for a population model</a></li>
    <li><a class="dropdown-item" href="../articles/thylacine_example.html">Workflow example for the Tasmanian thylacine</a></li>
    <li><a class="dropdown-item" href="../articles/translocation_example.html">Population introduction via translocation functions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GlobalEcologyLab/poems/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>R6 class representing a dispersal generator.</h1>
      <small class="dont-index">Source: <a href="https://github.com/GlobalEcologyLab/poems/blob/main/R/DispersalGenerator.R" class="external-link"><code>R/DispersalGenerator.R</code></a></small>
      <div class="d-none name"><code>DispersalGenerator.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a></code> class functionality for modeling dispersals within a
spatially-explicit population model. The model calculates dispersal rates between
population model cells using a distance-based function: <em>p*exp(-distance/b)</em>
for <em>distance &lt;= r</em> (otherwise zero), where <em>p</em> (proportion), <em>b</em>
(breadth or average distance) and <em>r</em> (range or maximum distance) are
configurable model attributes. The dispersal rates are adjusted to limit
emigration from each cell to <em>p</em>. The model also generates data for
constructing compacted dispersal matrices. It dynamically generates attributes
defined as <em>outputs</em> (default: <em>dispersal_data</em>) given sampled
<em>inputs</em> (default: <em>dispersal_proportion</em> and
<em>dispersal_max_distance</em>). An optional <code><a href="DispersalFriction.html">DispersalFriction</a></code> object
may be utilized to modify (equivalent) distances given a (spatio-temporal) frictional
landscape. When this landscape includes temporal changes, the generated
<em>dispersal_data</em> will be a temporal list of changing dispersal rates.</p>
    </div>


    <div class="section level2">
    <h2 id="super-classes">Super classes<a class="anchor" aria-label="anchor" href="#super-classes"></a></h2>
    <p><code><a href="GenericClass.html">poems::GenericClass</a></code> -&gt; <code><a href="GenericModel.html">poems::GenericModel</a></code> -&gt; <code><a href="SpatialModel.html">poems::SpatialModel</a></code> -&gt; <code><a href="Generator.html">poems::Generator</a></code> -&gt; <code>DispersalGenerator</code></p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>attached</code></dt>
<dd><p>A list of dynamically attached attributes (name-value pairs).</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>model_attributes</code></dt>
<dd><p>A vector of model attribute names.</p></dd>


<dt><code>region</code></dt>
<dd><p>A <code><a href="Region.html">Region</a></code> (or inherited class) object specifying the study region.</p></dd>


<dt><code>coordinates</code></dt>
<dd><p>Data frame (or matrix) of X-Y population (WGS84) coordinates in longitude (degrees West) and latitude (degrees North) (get and set), or distance-based coordinates dynamically returned by region raster (get only).</p></dd>


<dt><code>description</code></dt>
<dd><p>A brief description of what the generator generates.</p></dd>


<dt><code>inputs</code></dt>
<dd><p>An array of input attribute names for the generator.</p></dd>


<dt><code>outputs</code></dt>
<dd><p>An array of output attribute names for the generator.</p></dd>


<dt><code>file_templates</code></dt>
<dd><p>A nested list of file template attributes.</p></dd>


<dt><code>function_templates</code></dt>
<dd><p>A nested list of function template attributes.</p></dd>


<dt><code>distribution_templates</code></dt>
<dd><p>A list of distribution template attributes.</p></dd>


<dt><code>uses_correlations</code></dt>
<dd><p>A boolean to indicate that a <code><a href="SpatialCorrelation.html">SpatialCorrelation</a></code> (or inherited class) object is used for generating correlated random deviates.</p></dd>


<dt><code>spatial_correlation</code></dt>
<dd><p>A <code><a href="SpatialCorrelation.html">SpatialCorrelation</a></code> (or inherited class) object for generating correlated random deviates.</p></dd>


<dt><code>temporal_correlation</code></dt>
<dd><p>Absolute correlation coefficient between simulation time steps for all grid cells (0-1; default = 1).</p></dd>


<dt><code>time_steps</code></dt>
<dd><p>Number of simulation time steps.</p></dd>


<dt><code>decimals</code></dt>
<dd><p>Number of decimal places applied to generated data outputs (default: NULL = no rounding).</p></dd>


<dt><code>occupancy_mask</code></dt>
<dd><p>Optional binary mask array (matrix), data frame, or raster (stack) for generated (time-series) data outputs.</p></dd>


<dt><code>template_attached</code></dt>
<dd><p>A list of template-nested dynamically attached model attributes that are maintained via shallow or <em>new</em> cloning.</p></dd>


<dt><code>dispersal_friction</code></dt>
<dd><p>A <code><a href="DispersalFriction.html">DispersalFriction</a></code> (or inherited class) object for dispersal distance multiplier data.</p></dd>


<dt><code>distance_classes</code></dt>
<dd><p>Vector of distance interval boundaries for calculating discrete dispersal rates.</p></dd>


<dt><code>max_distance_classes</code></dt>
<dd><p>The maximum number of distance classes when they are calculated automatically via the maximum distance (default: 1000).</p></dd>


<dt><code>distance_scale</code></dt>
<dd><p>Scale of distance values in meters (default = 1). Usage: set to 1 for values in meters, or to 1000 for values in kilometers.</p></dd>


<dt><code>distance_data</code></dt>
<dd><p>Data frame of distance classes including indices for the construction of compact matrices (columns: target_pop, source_pop, compact_row, distance_class).</p></dd>


<dt><code>dispersal_function_data</code></dt>
<dd><p>Data frame of discrete dispersal function values. Optional first column may provide distance intervals (non-inclusive lower bounds).</p></dd>


<dt><code>dispersal_proportion</code></dt>
<dd><p>Dispersal function: <em>p*exp(-distance/b)</em> <em>p</em> parameter. Represents the proportion and limit of dispersers between model cells.</p></dd>


<dt><code>dispersal_breadth</code></dt>
<dd><p>Dispersal function: <em>p*exp(-distance/b)</em> <em>b</em> parameter. Represents the breadth of the dispersal between model cells. Typically estimated via average migration distance.</p></dd>


<dt><code>dispersal_max_distance</code></dt>
<dd><p>Dispersal maximum distance or range (<em>r</em>) parameter limits the use of the dispersal function: <em>p*exp(-distance/b)</em>. The function is utilized when <em>distance &lt;= r</em> otherwise the dispersal rate is set to zero.</p></dd>


<dt><code>dispersal_index</code></dt>
<dd><p>Sampled index for the dispersal function data frame (to look-up dispersal function parameters).</p></dd>


<dt><code>dispersal_matrix</code></dt>
<dd><p>Dispersal matrix calculated via dispersal function.</p></dd>


<dt><code>dispersal_data</code></dt>
<dd><p>Data frame of non-zero dispersal rates including indices for the construction of compact matrices (columns: target_pop, source_pop, emigrant_row, immigrant_row, dispersal_rate).</p></dd>


<dt><code>attribute_aliases</code></dt>
<dd><p>A list of alternative alias names for model attributes (form: <code>alias = "attribute"</code>) to be used with the set and get attributes methods.</p></dd>


<dt><code>generative_template</code></dt>
<dd><p>A nested <code><a href="DispersalTemplate.html">DispersalTemplate</a></code> (or inherited class) object for model attributes that are maintained via shallow or <em>new</em> cloning.</p></dd>


<dt><code>generative_requirements</code></dt>
<dd><p>A list of attribute names and the template setting (<em>"file"</em>, <em>"function"</em>, or <em>"default"</em>) that is required to generate their values.</p></dd>


<dt><code>error_messages</code></dt>
<dd><p>A vector of error messages encountered when setting model attributes.</p></dd>


<dt><code>warning_messages</code></dt>
<dd><p>A vector of warning messages encountered when setting model attributes.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-DispersalGenerator-new"><code>DispersalGenerator$new()</code></a></p></li>
<li><p><a href="#method-DispersalGenerator-generative_requirements_satisfied"><code>DispersalGenerator$generative_requirements_satisfied()</code></a></p></li>
<li><p><a href="#method-DispersalGenerator-set_distance_classes"><code>DispersalGenerator$set_distance_classes()</code></a></p></li>
<li><p><a href="#method-DispersalGenerator-calculate_distance_matrix"><code>DispersalGenerator$calculate_distance_matrix()</code></a></p></li>
<li><p><a href="#method-DispersalGenerator-calculate_distance_data"><code>DispersalGenerator$calculate_distance_data()</code></a></p></li>
<li><p><a href="#method-DispersalGenerator-calculate_dispersals"><code>DispersalGenerator$calculate_dispersals()</code></a></p></li>
<li><p><a href="#method-DispersalGenerator-clone"><code>DispersalGenerator$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="get_attribute"><a href="GenericModel.html#method-get_attribute"><code>poems::GenericModel$get_attribute()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="get_attribute_aliases"><a href="GenericModel.html#method-get_attribute_aliases"><code>poems::GenericModel$get_attribute_aliases()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="get_attribute_names"><a href="GenericModel.html#method-get_attribute_names"><code>poems::GenericModel$get_attribute_names()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="set_attributes"><a href="GenericModel.html#method-set_attributes"><code>poems::GenericModel$set_attributes()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="add_distribution_template"><a href="Generator.html#method-add_distribution_template"><code>poems::Generator$add_distribution_template()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="add_file_template"><a href="Generator.html#method-add_file_template"><code>poems::Generator$add_file_template()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="add_function_template"><a href="Generator.html#method-add_function_template"><code>poems::Generator$add_function_template()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="add_generative_requirements"><a href="Generator.html#method-add_generative_requirements"><code>poems::Generator$add_generative_requirements()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="generate"><a href="Generator.html#method-generate"><code>poems::Generator$generate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="get_attributes"><a href="Generator.html#method-get_attributes"><code>poems::Generator$get_attributes()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="new_clone"><a href="Generator.html#method-new_clone"><code>poems::Generator$new_clone()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="read_file"><a href="Generator.html#method-read_file"><code>poems::Generator$read_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="run_function"><a href="Generator.html#method-run_function"><code>poems::Generator$run_function()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Generator" data-id="sample_distribution"><a href="Generator.html#method-sample_distribution"><code>poems::Generator$sample_distribution()</code></a></span></li>
</ul></details></p><hr><a id="method-DispersalGenerator-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialization method sets the generative template and requirements, optionally the dispersal friction object, as well as any attributes passed via a <em>params</em> list or individually.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/DispersalGenerator.html">DispersalGenerator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  generative_template <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  generative_requirements <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dispersal_friction <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  attribute_aliases <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>generative_template</code></dt>
<dd><p>Optional nested object for generative attributes that need to be maintained when a new clone object is generated for a sample simulation (usually a ).</p></dd>


<dt><code>generative_requirements</code></dt>
<dd><p>Optional list of attribute names and the template setting (<em>"file"</em> or <em>"function"</em>) that is required to generate their values (otherwise default functionality is used).</p></dd>


<dt><code>dispersal_friction</code></dt>
<dd><p>Optional <code><a href="DispersalFriction.html">DispersalFriction</a></code> (or inherited class) object for dispersal distance multiplier data.</p></dd>


<dt><code>attribute_aliases</code></dt>
<dd><p>Optional list of extra alias names for model attributes (form: <code>alias = "attribute"</code>) to be used with the set and get attributes methods.</p></dd>


<dt><code>...</code></dt>
<dd><p>Parameters passed via a <em>params</em> list or individually.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-DispersalGenerator-generative_requirements_satisfied"></a><div class="section">
<h3 id="method-generative-requirements-satisfied-">Method <code>generative_requirements_satisfied()</code><a class="anchor" aria-label="anchor" href="#method-generative-requirements-satisfied-"></a></h3>
<p>Returns a boolean to indicate that all the default, file and/or function template settings that are required for attribute generation are present.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DispersalGenerator</span><span class="op">$</span><span class="fu">generative_requirements_satisfied</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Boolean to indicate that the required settings for attribute generation are present.</p>
</div>

</div><p></p><hr><a id="method-DispersalGenerator-set_distance_classes"></a><div class="section">
<h3 id="method-set-distance-classes-">Method <code>set_distance_classes()</code><a class="anchor" aria-label="anchor" href="#method-set-distance-classes-"></a></h3>
<p>Sets the distance classes to a sequence of values from minimum to maximum in steps of interval size.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DispersalGenerator</span><span class="op">$</span><span class="fu">set_distance_classes</span><span class="op">(</span></span>
<span>  minimum <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  maximum <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  interval <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>minimum</code></dt>
<dd><p>Minimum or first distance class sequence value (default = 1).</p></dd>


<dt><code>maximum</code></dt>
<dd><p>Maximum or last distance class value (default = 10).</p></dd>


<dt><code>interval</code></dt>
<dd><p>Interval or distance class sequence step size  (default = 1).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-DispersalGenerator-calculate_distance_matrix"></a><div class="section">
<h3 id="method-calculate-distance-matrix-">Method <code>calculate_distance_matrix()</code><a class="anchor" aria-label="anchor" href="#method-calculate-distance-matrix-"></a></h3>
<p>Returns a matrix with the calculated distance (in meters by default) between each pair of region cells.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DispersalGenerator</span><span class="op">$</span><span class="fu">calculate_distance_matrix</span><span class="op">(</span>use_longlat <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>use_longlat</code></dt>
<dd><p>Optional boolean indicating use of (WGS84) coordinates in longitude (degrees West) and latitude (degrees North).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Matrix with distances between region cells.</p>
</div>

</div><p></p><hr><a id="method-DispersalGenerator-calculate_distance_data"></a><div class="section">
<h3 id="method-calculate-distance-data-">Method <code>calculate_distance_data()</code><a class="anchor" aria-label="anchor" href="#method-calculate-distance-data-"></a></h3>
<p>Calculates the distance class for within-range populations using the set/provided distance classes. Also calculates indices for constructing compact matrices.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DispersalGenerator</span><span class="op">$</span><span class="fu">calculate_distance_data</span><span class="op">(</span>distance_matrix <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>distance_matrix</code></dt>
<dd><p>Optional pre-calculated matrix with distances between population cells (population rows by population columns).</p></dd>


<dt><code>...</code></dt>
<dd><p>Parameters passed via a <em>params</em> list or individually.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-DispersalGenerator-calculate_dispersals"></a><div class="section">
<h3 id="method-calculate-dispersals-">Method <code>calculate_dispersals()</code><a class="anchor" aria-label="anchor" href="#method-calculate-dispersals-"></a></h3>
<p>Calculates, using the conditional dispersal limiting function for a simulation sample, a dispersal matrix, or a list of data frames of non-zero dispersal rates and indices for constructing a compact dispersal matrix (default), and optional changing rates over time (via <code><a href="DispersalFriction.html">DispersalFriction</a></code> object).</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DispersalGenerator</span><span class="op">$</span><span class="fu">calculate_dispersals</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"data"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>type</code></dt>
<dd><p>Optional type selector (<em>"data"</em> or <em>"matrix"</em>) to determine whether to calculate a dispersal matrix or data frame (default).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>Returns character string message when calculation prerequisites are not met (for simulation logging).</p>
</div>

</div><p></p><hr><a id="method-DispersalGenerator-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DispersalGenerator</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># U Island example region</span></span></span>
<span class="r-in"><span><span class="va">coordinates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">177.01</span>, <span class="fl">177.05</span>, <span class="fl">0.01</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">18.01</span>, <span class="op">-</span><span class="fl">18.05</span>, <span class="op">-</span><span class="fl">0.01</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">template_raster</span> <span class="op">&lt;-</span> <span class="va"><a href="Region.html">Region</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>coordinates <span class="op">=</span> <span class="va">coordinates</span><span class="op">)</span><span class="op">$</span><span class="va">region_raster</span> <span class="co"># full extent</span></span></span>
<span class="r-in"><span><span class="va">template_raster</span><span class="op">[</span><span class="op">]</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">12</span>, <span class="fl">14</span>, <span class="fl">17</span><span class="op">:</span><span class="fl">19</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span> <span class="co"># make U Island</span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="va"><a href="Region.html">Region</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>template_raster <span class="op">=</span> <span class="va">template_raster</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">region</span><span class="op">$</span><span class="va">region_raster</span>,</span></span>
<span class="r-in"><span>  main <span class="op">=</span> <span class="st">"Example region (indices)"</span>,</span></span>
<span class="r-in"><span>  xlab <span class="op">=</span> <span class="st">"Longitude (degrees)"</span>, ylab <span class="op">=</span> <span class="st">"Latitude (degrees)"</span>,</span></span>
<span class="r-in"><span>  colNA <span class="op">=</span> <span class="st">"blue"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="DispersalGenerator-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Distance-based dispersal generator</span></span></span>
<span class="r-in"><span><span class="va">dispersal_gen</span> <span class="op">&lt;-</span> <span class="va">DispersalGenerator</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  region <span class="op">=</span> <span class="va">region</span>,</span></span>
<span class="r-in"><span>  dispersal_max_distance <span class="op">=</span> <span class="fl">3000</span>, <span class="co"># in m</span></span></span>
<span class="r-in"><span>  inputs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dispersal_p"</span>, <span class="st">"dispersal_b"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  decimals <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dispersal_gen</span><span class="op">$</span><span class="fu">calculate_distance_data</span><span class="op">(</span><span class="op">)</span> <span class="co"># pre-calculate</span></span></span>
<span class="r-in"><span><span class="va">dispersal_gen</span><span class="op">$</span><span class="fu">generate</span><span class="op">(</span>input_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  dispersal_p <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  dispersal_b <span class="op">=</span> <span class="fl">700</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $dispersal_data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $dispersal_data[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    target_pop source_pop emigrant_row immigrant_row dispersal_rate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           2          1            1             1        0.02426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           3          1            2             1        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           4          1            3             1        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           5          1            4             1        0.02079</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           6          1            5             1        0.01476</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           1          2            1             1        0.02426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           3          2            2             2        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           4          2            3             2        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9           6          2            4             2        0.01476</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10          7          2            5             1        0.02079</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11          1          3            1             2        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          2          3            2             2        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13          4          3            3             3        0.02426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14          5          3            4             2        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15          6          3            5             3        0.05572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16          7          3            6             2        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17          1          4            1             3        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18          2          4            2             3        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19          3          4            3             3        0.02426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20          5          4            4             3        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21          6          4            5             4        0.05572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22          7          4            6             3        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23          1          5            1             4        0.02079</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24          3          5            2             4        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25          4          5            3             4        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26          6          5            4             5        0.11014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27          7          5            5             4        0.02426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28          1          6            1             5        0.01476</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29          2          6            2             4        0.01476</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30          3          6            3             5        0.05572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31          4          6            4             5        0.05572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32          5          6            5             4        0.11014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33          7          6            6             5        0.11014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34          2          7            1             5        0.02079</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35          3          7            2             6        0.01643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36          4          7            3             6        0.10196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37          5          7            4             5        0.02426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38          6          7            5             6        0.11014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sean Haythorne, Damien Fordham, Stuart Brown, Jessie Buettel, Barry Brook, <a href="https://pilowsky.me" class="external-link">July Pilowsky</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

