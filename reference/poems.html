<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-AU"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>poems: Pattern-oriented ensemble modeling and simulation — poems • poems</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="poems: Pattern-oriented ensemble modeling and simulation — poems"><meta name="description" content="The poems package provides a framework of interoperable
R6 classes for building ensembles of viable models via the
pattern-oriented modeling (POM) approach (Grimm et al., 2005). The package includes
classes for encapsulating and generating model parameters, and managing the POM
workflow. The workflow includes: model setup; generating model parameters via
Latin hypercube sampling; running multiple sampled model simulations; collating
summary results; and validating and selecting an ensemble of models that best match
known patterns. By default, model validation and selection utilizes an approximate
Bayesian computation (ABC) approach (Beaumont, Zhang, &amp;amp; Balding, 2002), although
alternative user-defined functionality could be employed. The package also includes
a spatially explicit demographic population model simulation engine, which includes
default functionality for density dependence, correlated environmental stochasticity,
stage-based transitions, and distance-based dispersal. The user may customize the
simulator by defining functionality for translocations, harvesting, mortality,
and other processes, as well as defining the sequence order for the simulator
processes. The framework could also be adapted for use with other model simulators
by utilizing its extendable (inheritable) base classes."><meta property="og:description" content="The poems package provides a framework of interoperable
R6 classes for building ensembles of viable models via the
pattern-oriented modeling (POM) approach (Grimm et al., 2005). The package includes
classes for encapsulating and generating model parameters, and managing the POM
workflow. The workflow includes: model setup; generating model parameters via
Latin hypercube sampling; running multiple sampled model simulations; collating
summary results; and validating and selecting an ensemble of models that best match
known patterns. By default, model validation and selection utilizes an approximate
Bayesian computation (ABC) approach (Beaumont, Zhang, &amp;amp; Balding, 2002), although
alternative user-defined functionality could be employed. The package also includes
a spatially explicit demographic population model simulation engine, which includes
default functionality for density dependence, correlated environmental stochasticity,
stage-based transitions, and distance-based dispersal. The user may customize the
simulator by defining functionality for translocations, harvesting, mortality,
and other processes, as well as defining the sequence order for the simulator
processes. The framework could also be adapted for use with other model simulators
by utilizing its extendable (inheritable) base classes."><meta property="og:image" content="https://globalecologylab.github.io/poems/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">poems</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/simple_example.html">Simple workflow example for a population model</a></li>
    <li><a class="dropdown-item" href="../articles/thylacine_example.html">Workflow example for the Tasmanian thylacine</a></li>
    <li><a class="dropdown-item" href="../articles/translocation_example.html">Population introduction via translocation functions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GlobalEcologyLab/poems/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>poems: Pattern-oriented ensemble modeling and simulation</h1>
      <small class="dont-index">Source: <a href="https://github.com/GlobalEcologyLab/poems/blob/main/R/poems-package.R" class="external-link"><code>R/poems-package.R</code></a></small>
      <div class="d-none name"><code>poems.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <em>poems</em> package provides a framework of interoperable
<code><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a></code> classes for building ensembles of viable models via the
pattern-oriented modeling (POM) approach (Grimm et al., 2005). The package includes
classes for encapsulating and generating model parameters, and managing the POM
workflow. The workflow includes: model setup; generating model parameters via
Latin hypercube sampling; running multiple sampled model simulations; collating
summary results; and validating and selecting an ensemble of models that best match
known patterns. By default, model validation and selection utilizes an approximate
Bayesian computation (ABC) approach (Beaumont, Zhang, &amp; Balding, 2002), although
alternative user-defined functionality could be employed. The package also includes
a spatially explicit demographic population model simulation engine, which includes
default functionality for density dependence, correlated environmental stochasticity,
stage-based transitions, and distance-based dispersal. The user may customize the
simulator by defining functionality for translocations, harvesting, mortality,
and other processes, as well as defining the sequence order for the simulator
processes. The framework could also be adapted for use with other model simulators
by utilizing its extendable (inheritable) base classes.</p>
    </div>


    <div class="section level2">
    <h2 id="framework-and-workflow">Framework and workflow<a class="anchor" aria-label="anchor" href="#framework-and-workflow"></a></h2>


<p>The <em>poems</em> framework utilizes a hierarchy  of extendable (inheritable)
<code><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a></code> class objects that work together to manage a POM
workflow for building an ensemble of simulation models.

<img src="figures/framework.png" alt=""></p><ol><li><p>Create a simulation model template (a <code><a href="SimulationModel.html">SimulationModel</a></code> or
inherited class object) with appropriate fixed parameters for the study domain.
Also define a study region via the <code><a href="Region.html">Region</a></code> class if the
simulations are to be spatially explicit.</p></li>
<li><p>Create generators (<code><a href="Generator.html">Generator</a></code> or inherited class objects) for
dynamically generating (non-singular) model parameters represented by data
structures, such as arrays or lists.</p></li>
<li><p>Generate a data frame of sampled variable model parameters using the
<code><a href="LatinHypercubeSampler.html">LatinHypercubeSampler</a></code>. This will include singular model parameter
values as well as input parameters for the generators.</p></li>
<li><p>Create a <code><a href="SimulationManager.html">SimulationManager</a></code> object configured with the
simulation model (template), the generators, and the sample parameter data
frame. Running this manager sets and runs the models via the simulator function
for each set (row) of sampled parameters, utilising the generators when
required. The results of each model simulation run are written to a file. A
simulation log file is also created.</p></li>
<li><p>Create a <code><a href="ResultsManager.html">ResultsManager</a></code> object configured with the sample
parameter data and result file details. Running this manager constructs a data
frame of configured summary metrics, one row for each simulation result file.
The manager utilizes the <code><a href="SimulationResults.html">SimulationResults</a></code> (or inherited) class
to encapsulate, and dynamically generate additional derived, results. The
metrics are generated via user-defined specifications and functions for
calculating each metric from the results (objects).</p></li>
<li><p>Create a <code><a href="Validator.html">Validator</a></code> object configured with the sample
parameter data, summary metrics, and target (observed) pattern values for each
metric. By default, the validator utilizes an approximate Bayesian computation
(ABC) validation method via the <code><a href="https://rdrr.io/pkg/abc/man/abc.html" class="external-link">abc</a></code> library, although
the validator (call) function can be configured to utilize other library or
user-defined functions. Running the validator (with appropriate call function
configuration) produces an ensemble of models (indices to sampled parameters)
that were found to best match the targets. Diagnostic outputs may also be
produced (depending on the call function and its configuration).</p></li>
<li><p>The selected models may then be utilized for further studies, such as
alternative model scenarios or counterfactuals. This can be achieved by
utilizing the selected subset of parameter samples to form inputs for further
model simulations (by repeating the steps above).</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="population-modeling-components">Population modeling components<a class="anchor" aria-label="anchor" href="#population-modeling-components"></a></h2>


<ul><li><p><code><a href="population_simulator.html">population_simulator</a></code> function: The simulation engine's main
function processes the model input parameters, controls the flow, calling other
function modules as required, and returns the results of each simulation.</p></li>
<li><p><code><a href="population_density.html">population_density</a></code> function: Module for configuring
and performing density dependence calculations at each simulation time step.
A user-defined function may be utilized.</p></li>
<li><p><code><a href="population_env_stoch.html">population_env_stoch</a></code> function: Module for configuring and
stochastically applying environmental variability to stage-based population
transition rates at each simulation time step.</p></li>
<li><p><code><a href="population_transitions.html">population_transitions</a></code> function: Module for configuring and
performing stage-based demographic transitions of population abundances at each
simulation time step.</p></li>
<li><p><code><a href="population_transformation.html">population_transformation</a></code> function: Module for configuring and
performing user-defined transformations to staged population abundances. This
functionality is utilized when defining functions for <code>translocation</code>,
<code>harvest</code>, <code>mortality</code>, or other custom transformative functions.</p></li>
<li><p><code><a href="population_dispersal.html">population_dispersal</a></code> function: Module for configuring and
performing dispersal calculations at each simulation time step. A user-defined
function may be utilized.</p></li>
<li><p><code><a href="population_results.html">population_results</a></code> function: Module for configuring,
initializing, and collating simulation results.</p></li>
<li><p><code><a href="PopulationModel.html">PopulationModel</a></code> class: Inherited from
<code><a href="SimulationModel.html">SimulationModel</a></code>, this class encapsulates the input parameters
utilized by the <code><a href="population_simulator.html">population_simulator</a></code>.</p></li>
<li><p><code><a href="SimulatorReference.html">SimulatorReference</a></code> class: This simple
<code><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a></code> class enables user-defined functionality to maintain
persistent (attached) attributes and to write to the simulator results.</p></li>
<li><p><code><a href="SpatialCorrelation.html">SpatialCorrelation</a></code> class: Provides functionality for
generating parameters that can be utilized when optionally applying a spatial
correlation within the simulator's environmental variability calculations.</p></li>
<li><p><code><a href="DispersalGenerator.html">DispersalGenerator</a></code> class: Inherited from
<code><a href="Generator.html">Generator</a></code>, this class provides functionality for generating
distance-based dispersal parameters that can be utilized when performing
dispersal calculations.</p></li>
<li><p><code><a href="DispersalFriction.html">DispersalFriction</a></code> class: Provides functionality for
adjusting the (equivalent) distance between population cells given a
spatio-temporal frictional landscape. These adjustments may be utilized by the
<code><a href="DispersalGenerator.html">DispersalGenerator</a></code>.</p></li>
<li><p><code><a href="PopulationResults.html">PopulationResults</a></code> class: Inherited from
<code><a href="SimulationResults.html">SimulationResults</a></code>, this class encapsulates the results generated
by the <code><a href="population_simulator.html">population_simulator</a></code>, as well as dynamically generating
additional derived results.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>


<p>Beaumont, M. A., Zhang, W., &amp; Balding, D. J. (2002). 'Approximate Bayesian
computation in population genetics'. <em>Genetics</em>, vol. 162, no. 4, pp, 2025–2035.</p>
<p>Grimm, V., Revilla, E., Berger, U., Jeltsch, F., Mooij, W. M., Railsback, S. F.,
Thulke, H. H., Weiner, J., Wiegand, T., DeAngelis, D. L., (2005). 'Pattern-Oriented
Modeling of Agent-Based Complex Systems: Lessons from Ecology'. <em>Science</em>
vol. 310, no. 5750, pp. 987–991.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Here we demonstrate building and running a simple population model. For a</span></span></span>
<span class="r-in"><span><span class="co"># demonstration of the POM workflow with the model, see vignette("simple_example").</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Demonstration example region (U Island) and initial abundance</span></span></span>
<span class="r-in"><span><span class="va">coordinates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">177.01</span>, <span class="fl">177.05</span>, <span class="fl">0.01</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">18.01</span>, <span class="op">-</span><span class="fl">18.05</span>, <span class="op">-</span><span class="fl">0.01</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">template_raster</span> <span class="op">&lt;-</span> <span class="va"><a href="Region.html">Region</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>coordinates <span class="op">=</span> <span class="va">coordinates</span><span class="op">)</span><span class="op">$</span><span class="va">region_raster</span> <span class="co"># full extent</span></span></span>
<span class="r-in"><span><span class="va">template_raster</span><span class="op">[</span><span class="op">]</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">12</span>, <span class="fl">14</span>, <span class="fl">17</span><span class="op">:</span><span class="fl">19</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span> <span class="co"># make U Island</span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="va"><a href="Region.html">Region</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>template_raster <span class="op">=</span> <span class="va">template_raster</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">initial_abundance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">300</span>, <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">region</span><span class="op">$</span><span class="fu">raster_from_values</span><span class="op">(</span><span class="va">initial_abundance</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  main <span class="op">=</span> <span class="st">"Initial abundance"</span>, xlab <span class="op">=</span> <span class="st">"Longitude (degrees)"</span>,</span></span>
<span class="r-in"><span>  ylab <span class="op">=</span> <span class="st">"Latitude (degrees)"</span>, zlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">300</span><span class="op">)</span>, colNA <span class="op">=</span> <span class="st">"blue"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poems-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set population model</span></span></span>
<span class="r-in"><span><span class="va">pop_model</span> <span class="op">&lt;-</span> <span class="va"><a href="PopulationModel.html">PopulationModel</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  region <span class="op">=</span> <span class="va">region</span>,</span></span>
<span class="r-in"><span>  time_steps <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  populations <span class="op">=</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>  initial_abundance <span class="op">=</span> <span class="va">initial_abundance</span>,</span></span>
<span class="r-in"><span>  stage_matrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fl">0</span>, <span class="fl">2.5</span>, <span class="co"># Leslie/Lefkovitch matrix</span></span></span>
<span class="r-in"><span>    <span class="fl">0.8</span>, <span class="fl">0.5</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  carrying_capacity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  density_dependence <span class="op">=</span> <span class="st">"logistic"</span>,</span></span>
<span class="r-in"><span>  dispersal <span class="op">=</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">7</span>, ncol <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>  result_stages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run single simulation</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="population_simulator.html">population_simulator</a></span><span class="op">(</span><span class="va">pop_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="co"># examine</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $all</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $all$abundance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1032 1137 1264 1278 1301</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $all$abundance_stages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $all$abundance_stages[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 606 693 771 759 752</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $all$abundance_stages[[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 426 444 493 519 549</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $abundance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   50  115  153  185  187</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]   87  130  170  157  160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  133  163  192  177  173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]  170  171  186  187  193</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]  194  175  180  181  206</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]  183  187  198  190  178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]  215  196  185  201  204</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $abundance_stages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $abundance_stages[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   31   65   95  109  114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]   52   81  106   90   91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]   77   98  129   99  115</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]  103  102  105  121  107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]  119   97  112  105  117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]  105  117  125  115   94</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]  119  133   99  120  114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $abundance_stages[[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   19   50   58   76   73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]   35   49   64   67   69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]   56   65   63   78   58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]   67   69   81   66   86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]   75   78   68   76   89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]   78   70   73   75   84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]   96   63   86   81   90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">region</span><span class="op">$</span><span class="fu">raster_from_values</span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">abundance</span><span class="op">[</span>, <span class="fl">5</span><span class="op">]</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  main <span class="op">=</span> <span class="st">"Final abundance"</span>, xlab <span class="op">=</span> <span class="st">"Longitude (degrees)"</span>,</span></span>
<span class="r-in"><span>  ylab <span class="op">=</span> <span class="st">"Latitude (degrees)"</span>, zlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">300</span><span class="op">)</span>, colNA <span class="op">=</span> <span class="st">"blue"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poems-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sean Haythorne, Damien Fordham, Stuart Brown, Jessie Buettel, Barry Brook, <a href="https://pilowsky.me" class="external-link">July Pilowsky</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

